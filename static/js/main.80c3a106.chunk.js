(this["webpackJsonpentity-viewer"]=this["webpackJsonpentity-viewer"]||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(5),o=a.n(l),r=(a(12),a(2)),i=function(e){var t=new RegExp(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi);return e.match(t)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("isRealityFile",t);var n=/\.(gltf|glb)$/gi,c=a?"#applePayButtonType=buy&checkoutTitle=Biplane%20Toy&checkoutSubtitle=Rustic%20finish%20with%20rotating%20propeller&price=$15":"";return e.replace(n,t?".reality".concat(c):".usdz".concat(c))},s=function(e){return e=(e=e.replace("github.com","raw.githubusercontent.com")).replace("/blob/","/")},m=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},d=function(e){var t=c.a.createElement("div",{className:"form-group mt-2"},c.a.createElement("input",{type:"url",className:"form-control",id:"usdzURL",placeholder:"Enter the link to the usdz file",onChange:e.onUsdzFieldChange}));return c.a.createElement("form",{onSubmit:e.onSubmit},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{for:"modelURL"},"Model URL"),c.a.createElement("input",{type:"url",value:"null"===e.url?"":e.url,className:"form-control",id:"modelURL","aria-describedby":"modelURLHint",placeholder:"Enter the link to the glb or glTF file",onChange:e.onChange}),c.a.createElement("small",{id:"modelURLHint",className:"form-text text-muted"},"Upload your model file to github project and copy the link to the file.")),c.a.createElement("div",{className:"form-check"},c.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"realityCheckbox",value:"realityCheckbox",onChange:e.onRealityCheckboxChange,checked:e.isRealityFile}),c.a.createElement("label",{className:"form-check-label",for:"realityCheckbox"},"Reality file?")),c.a.createElement("div",{className:"form-check"},c.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"usdzCheckbox",value:"usdzCheckbox",onChange:e.onUsdzCheckboxChange}),c.a.createElement("label",{className:"form-check-label",for:"usdzCheckbox"},"Specify a USDZ location")),e.enableUsdzField&&t,c.a.createElement("button",{type:"submit",className:"btn btn-warning mt-3",disabled:!i(e.url)},"Submit"))},h=(a(16),function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),l=Object(r.a)(a,2),o=l[0],u=l[1];Object(n.useEffect)((function(){void 0!==t.current&&t.current.addEventListener("error",(function(e){u(!0)}))}));var s=c.a.createElement("div",{className:"col-12"},o&&c.a.createElement("div",{class:"alert alert-danger",role:"alert"},"Only support glb/glTF files"),c.a.createElement("div",{className:"model-viewer-box"},c.a.createElement("model-viewer",{ref:t,class:"model-viewer",src:"".concat(e.url),"auto-rotate":!0,"camera-controls":!0,ar:!0,"ar-scale":"auto",alt:"model","ios-src":"".concat(e.usdz)})));return c.a.createElement("div",{className:"row mt-2"},i(e.url)&&s)});a(14);var b=function(){var e=m("model");null!==e&&(e=s(e));var t=m("isRealityFile");null!==t&&(t="true"===t);var a=Object(n.useState)("".concat(e)),l=Object(r.a)(a,2),o=l[0],b=l[1],f=Object(n.useState)("".concat(e)),g=Object(r.a)(f,2),p=g[0],v=g[1],E=c.a.useState("".concat(null===e?"null":u(e,t))),y=Object(r.a)(E,2),k=y[0],w=y[1],C=Object(n.useState)("".concat(null===e?"null":u(e,t))),x=Object(r.a)(C,2),R=x[0],j=x[1],z=Object(n.useState)(t),N=Object(r.a)(z,2),O=N[0],U=N[1],S=Object(n.useState)(!1),F=Object(r.a)(S,2),L=F[0],B=F[1];return c.a.createElement("div",{className:"App container mt-2"},c.a.createElement(d,{onChange:function(e){b("".concat(e.target.value))},url:o,onSubmit:function(e){var t=s(o);v(t),L&&i(k)?j("".concat(u(s(k),O))):j("".concat(u(t,O))),window.location.href="".concat(window.location.origin).concat(window.location.pathname,"?model=").concat(t,"&isRealityFile=").concat(O),e.preventDefault()},onUsdzCheckboxChange:function(e){B(e.target.checked)},enableUsdzField:L,onUsdzFieldChange:function(e){w("".concat(e.target.value))},isRealityFile:O,onRealityCheckboxChange:function(e){U(e.target.checked)}}),c.a.createElement(h,{url:p,usdz:R}))},f=function(){return c.a.createElement("div",{className:"container d-flex justify-content-center align-items-center "},"\xa9 ",(new Date).getFullYear()," Ken-Jung Lee")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(15);o.a.render(c.a.createElement(b,null),document.getElementById("root")),o.a.render(c.a.createElement(f,null),document.getElementById("footer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(17)}},[[7,1,2]]]);
//# sourceMappingURL=main.80c3a106.chunk.js.map